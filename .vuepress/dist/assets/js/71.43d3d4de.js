(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{652:function(e,o,t){"use strict";t.r(o);var a=t(0),n=Object(a.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"beta-network"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#beta-network"}},[e._v("#")]),e._v(" Beta Network")]),e._v(" "),t("p",[e._v("The beta network contains the most recent developed features and is expected to have errors.\nBasic knowledge about cosmos-sdk and linux servers is highly recommended.")]),e._v(" "),t("h2",{attrs:{id:"major-change-interpool-security"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#major-change-interpool-security"}},[e._v("#")]),e._v(" Major Change: Interpool security")]),e._v(" "),t("p",[e._v("The biggest difference to the current korellia network is the feature of interpool-security.\nFrom now on, there is only one staker entry per address. And a staker can join multiple pools. Joining multiple pools means more rewards, but this comes also with the danger of being more vulnerable to slashes.")]),e._v(" "),t("p",[t("img",{attrs:{src:"https://cdn.discordapp.com/attachments/889827445132374036/1016716774122733628/interpool_security.png",alt:"interpool security"}})]),e._v(" "),t("h2",{attrs:{id:"explorer-and-website"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#explorer-and-website"}},[e._v("#")]),e._v(" Explorer and Website")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://explorer.beta.kyve.network/kyve-betanet/staking",target:"_blank",rel:"noopener noreferrer"}},[e._v("explorer.beta.kyve.network"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://kyve-beta.netlify.app/#/",target:"_blank",rel:"noopener noreferrer"}},[e._v("kyve-beta.netlify.app/#/"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("For $KYVE ask in the Discord-Beta testers channels.")]),e._v(" "),t("h2",{attrs:{id:"setting-up-a-chain-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-a-chain-node"}},[e._v("#")]),e._v(" Setting up a chain node")]),e._v(" "),t("p",[e._v("The process of setting up a beta node is similar to the general guide\n"),t("RouterLink",{attrs:{to:"/validators/chain-node.html"}},[e._v("here")]),e._v(". However, less disk space is required, as\nthe network does not have that many transactions and is resettet here and then.")],1),e._v(" "),t("h3",{attrs:{id:"_1-obtaining-binaries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-obtaining-binaries"}},[e._v("#")]),e._v(" 1. Obtaining binaries")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"d2dldCBodHRwczovL2t5dmUtYmV0YS5zMy5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbS9nZW5lc2lzL2NoYWluX2xpbnV4X2FtZDY0LnRhci5negp0YXIgLXh2emYgY2hhaW5fbGludXhfYW1kNjQudGFyLmd6CgojIFRoZSBbbW9uaWtlcl0gaXMgYSBodW1hbi1yZWFkYWJsZSBuYW1lIGZvciB5b3VyIG5vZGUKLi9jaGFpbmQgaW5pdCBbbW9uaWtlcl0gLS1jaGFpbi1pZCBreXZlLWJldGEK"}}),e._v(" "),t("p",[e._v("Other architectures:")]),e._v(" "),t("ul",[t("li",[e._v("linux/arm64: "),t("a",{attrs:{href:"https://kyve-beta.s3.eu-central-1.amazonaws.com/genesis/chain_linux_arm64.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://kyve-beta.s3.eu-central-1.amazonaws.com/genesis/chain_linux_arm64.tar.gz"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("darwin/amd64: "),t("a",{attrs:{href:"https://kyve-beta.s3.eu-central-1.amazonaws.com/genesis/chain_darwin_amd64.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://kyve-beta.s3.eu-central-1.amazonaws.com/genesis/chain_darwin_amd64.tar.gz"),t("OutboundLink")],1)])]),e._v(" "),t("p",[e._v("Obtain the genesis:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"d2dldCBodHRwczovL2t5dmUtYmV0YS5zMy5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbS9nZW5lc2lzL2dlbmVzaXMtdjAuNy4wLWJldGEuanNvbgojIG1vdmUgdG8gdGhlIGNoYWluLW5vZGUgZGlyZWN0b3J5Cm12IGdlbmVzaXMtdjAuNy4wLWJldGEuanNvbiB+Ly5reXZlL2NvbmZpZy9nZW5lc2lzLmpzb24K"}}),e._v(" "),t("p",[e._v("Start the chain")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9jaGFpbmQgc3RhcnQgLS1wMnAucGVyc2lzdGVudF9wZWVycz0mcXVvdDs0MTBiZjBjYjJjZGI5YTZlMTU5YzE0YjlkMDE1MzFiOWVjYjFlZGQ0QDMuNzAuMjYuNDY6MjY2NTYmcXVvdDsK"}}),e._v(" "),t("h3",{attrs:{id:"_2-cosmovisor-systemd-and-validators"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-cosmovisor-systemd-and-validators"}},[e._v("#")]),e._v(" 2. Cosmovisor, Systemd and Validators")]),e._v(" "),t("p",[e._v("The setup of cosmovisor and systemd is the same as described "),t("RouterLink",{attrs:{to:"/validators/chain-node.html#setup-cosmovisor"}},[e._v("here")]),e._v("\nand "),t("RouterLink",{attrs:{to:"/validators/chain-node.html#setting-up-deamon-service"}},[e._v("here")]),e._v(".")],1),e._v(" "),t("p",[e._v("For "),t("RouterLink",{attrs:{to:"/validators/chain-node.html#becoming-a-validator"}},[e._v("Becoming a validator")]),e._v(" keep in mind to use the correct chain-id "),t("code",[e._v("kyve-beta")]),e._v(".")],1),e._v(" "),t("h2",{attrs:{id:"setting-up-protocol-nodes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-protocol-nodes"}},[e._v("#")]),e._v(" Setting up protocol nodes")]),e._v(" "),t("h3",{attrs:{id:"_1-create-the-validator"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-create-the-validator"}},[e._v("#")]),e._v(" 1. Create the validator")]),e._v(" "),t("p",[e._v("In order to create your validator visit the beta KYVE app "),t("a",{attrs:{href:"https://kyve-beta.netlify.app/#/validators",target:"_blank",rel:"noopener noreferrer"}},[e._v("kyve-beta.netlify.app/#/validators"),t("OutboundLink")],1),e._v(" and click on "),t("code",[e._v("Become a validator")]),e._v(".")]),e._v(" "),t("p",[e._v("There you can choose your preferred "),t("code",[e._v("self delegation")]),e._v(" which is the same as "),t("code",[e._v("stake")]),e._v(" before. The self delegation determines the probability of creating bundles and therefore earning rewards. If the validator misbehaves the self delegation will get partially slashed.\nOthers can also delegate to you. This will improve your probability of earning more rewards. To attract them, you can change your commission under "),t("code",[e._v("Manage Commission")]),e._v(" on your validator page. If the validator misbehaves those delegators will get slashed, too.")]),e._v(" "),t("p",[e._v("After the validator got created you can view your validator in detail by clicking on it. If you want to change your moniker, website and even your logo you can do that by clicking on "),t("code",[e._v("Manage Validator")]),e._v(" and then on "),t("code",[e._v("Manage Metadata")])]),e._v(" "),t("h3",{attrs:{id:"_2-run-protocol-nodes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-run-protocol-nodes"}},[e._v("#")]),e._v(" 2. Run protocol nodes")]),e._v(" "),t("p",[e._v("Running a protocol node can be done in 3 ways, we recommend running the node with Option 1.")]),e._v(" "),t("h4",{attrs:{id:"option-1-run-with-kysor-recommended"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#option-1-run-with-kysor-recommended"}},[e._v("#")]),e._v(" Option 1: Run with KYSOR (recommended)")]),e._v(" "),t("p",[t("strong",[e._v("Running nodes with KYSOR has the following benefits:")])]),e._v(" "),t("ul",[t("li",[e._v("Only use "),t("strong",[e._v("one")]),e._v(" program to run on "),t("strong",[e._v("every")]),e._v(" pool")]),e._v(" "),t("li",[e._v("Not installing and compiling protocol binaries "),t("strong",[e._v("manually")]),e._v(" for every pool")]),e._v(" "),t("li",[e._v("Getting the new upgrade binaries during a pool upgrade "),t("strong",[e._v("automatically")]),e._v(" and therefore "),t("strong",[e._v("don't risk timeout slashes")])]),e._v(" "),t("li",[e._v("Make running protocol nodes "),t("strong",[e._v("standardized")]),e._v(" and "),t("strong",[e._v("easier")])])]),e._v(" "),t("p",[t("strong",[e._v("Installation")])]),e._v(" "),t("p",[e._v("Get the latest release of the KYSOR binaries")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"d2dldCBodHRwczovL2t5dmUtYmV0YS5zMy5ldS1jZW50cmFsLTEuYW1hem9uYXdzLmNvbS9reXNvci9reXNvci1saW51eC14NjQuemlwCnVuemlwIGt5c29yLWxpbnV4LXg2NC56aXAKbXYga3lzb3ItbGludXgteDY0IGt5c29yCmNobW9kICt4IGt5c29yCg=="}}),e._v(" "),t("p",[e._v("Available KYSOR binaries")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"bGludXgtYXJtNjQgLSZndDsgaHR0cHM6Ly9reXZlLWJldGEuczMuZXUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb20va3lzb3Iva3lzb3ItbGludXgtYXJtNjQuemlwCmxpbnV4LXg2NCAgIC0mZ3Q7IGh0dHBzOi8va3l2ZS1iZXRhLnMzLmV1LWNlbnRyYWwtMS5hbWF6b25hd3MuY29tL2t5c29yL2t5c29yLWxpbnV4LXg2NC56aXAKbWFjb3MteDY0ICAgLSZndDsgaHR0cHM6Ly9reXZlLWJldGEuczMuZXUtY2VudHJhbC0xLmFtYXpvbmF3cy5jb20va3lzb3Iva3lzb3ItbWFjb3MteDY0LnppcAo="}}),e._v(" "),t("p",[t("strong",[e._v("Initialize KYSOR")])]),e._v(" "),t("p",[e._v("Once you have successfully downloaded the KYSOR binary you have to initialize it.")]),e._v(" "),t("p",[e._v("When you init the KYSOR you need to specify the network you should run on and if the KYSOR should automatically download and execute the binaries for you. Since we are in beta testnet\nwe would recommend initializing with the following properties:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXNvciBpbml0IC0tbmV0d29yayBiZXRhIC0tYXV0by1kb3dubG9hZC1iaW5hcmllcwo="}}),e._v(" "),t("p",[e._v("This command creates a "),t("code",[e._v("config.toml")]),e._v(" under the following directory: "),t("code",[e._v("$HOME/.kysor/")]),e._v(". You can edit this file if you wish to change the network or the auto download.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("IMPORTANT")]),e._v(": Since we are in testnet it is okay to leave auto download on, but once KYVE is in mainnet we would highly recommend turning auto download off and compiling the upgrade binaries yourself. You can find more information below for how to upgrade with KYSOR manually.")])]),e._v(" "),t("p",[t("strong",[e._v("Create your first valaccount")])]),e._v(" "),t("p",[e._v("Now that KYSOR is initalized we move on to the next step. For every pool you run on a "),t("em",[e._v("valaccount")]),e._v(" has to be created. In our example, we want to run on the Moonbeam pool with Pool Id "),t("code",[e._v("0")]),e._v(". A new valaccount with a new mnemonic can be created in the following way:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXNvciB2YWxhY2NvdW50cyBjcmVhdGUgXAotLW5hbWUgbW9vbmJlYW0gXAotLXBvb2wgMCBcCi0tc3RvcmFnZS1wcml2ICZxdW90OyQoY2F0IHBhdGgvdG8vYXJ3ZWF2ZS5qc29uKSZxdW90OyBcCi0tdmVyYm9zZSBcCi0tbWV0cmljcwo="}}),e._v(" "),t("p",[e._v("This will create a "),t("code",[e._v("moonbeam.toml")]),e._v(" file under the kysor home directory in "),t("code",[e._v("$HOME/.kysor/valaccounts/")]),e._v(". There you can view your valaccount config.")]),e._v(" "),t("p",[e._v("If you want to create a valaccount from an existing mnemonic just add the "),t("code",[e._v("--recover")]),e._v(" flag like this:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXNvciB2YWxhY2NvdW50cyBjcmVhdGUgXAotLW5hbWUgbW9vbmJlYW0gXAotLXBvb2wgMCBcCi0tc3RvcmFnZS1wcml2ICZxdW90OyQoY2F0IHBhdGgvdG8vYXJ3ZWF2ZS5qc29uKSZxdW90OyBcCi0tdmVyYm9zZSBcCi0tbWV0cmljcyBcCi0tcmVjb3Zlcgo="}}),e._v(" "),t("p",[e._v("This will prompt you to enter the mnemonic you want to import. More help on how to manage valaccounts can be found with "),t("code",[e._v("./kysor valaccounts --help")])]),e._v(" "),t("p",[e._v("If you want to port your valaccounts over from the old system (evm version <= 1.8.5 and celo version <= 0.8.5) you have to perform the following command to retrieve the mnemonic of your existing valaccounts:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9vbGQta3l2ZS1iaW5hcnkgdmFsYWNjb3VudHMgcmV2ZWFsICZsdDtuYW1lJmd0Owo="}}),e._v(" "),t("p",[e._v("Then you can import this mnemonic with the "),t("code",[e._v("--recover")]),e._v(" flag into the new system with KYSOR.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("INFORMATION")]),e._v(": Of course multiple valaccounts can be created for each pool. We would recommend naming the valaccounts after the pool you want to run with this account on like in this case "),t("code",[e._v("moonbeam")]),e._v(" for example. These names are just used locally for config management. Also if you have multiple valaccounts running on the same machine you are required to change the port of the metrics server (if enabled of course) so the don't overlap.")])]),e._v(" "),t("p",[t("strong",[e._v("Run the KYSOR")])]),e._v(" "),t("p",[e._v("After you have created the required valaccounts you can simply start running the KYSOR with the following command:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXNvciBzdGFydCAtLXZhbGFjY291bnQgbW9vbmJlYW0K"}}),e._v(" "),t("p",[e._v("When KYSOR is running, you can proceed with step 3.")]),e._v(" "),t("p",[t("strong",[e._v("Run KYSOR on multiple pools")])]),e._v(" "),t("p",[e._v("If you want to run KYSOR with multiple pools you only have to edit one configuration in the valaccounts. The Protocol Nodes starts a metrics prometheus server if the option "),t("code",[e._v("metrics")]),e._v(" is enabled. On default the metrics server is available under the following endpoint: "),t("code",[e._v("http://localhost:8080/metrics")]),e._v(". If you start on multiple pools those servers would collide because of the same port. You can solve this by editing the valaccounts config toml and specifying a different port for each valaccount.")]),e._v(" "),t("p",[t("strong",[e._v("Run the KYSOR without auto download")])]),e._v(" "),t("p",[e._v("If you want to run the KYSOR without auto download enabled like it would be recommended in mainnet just set the property "),t("code",[e._v("autoDownloadBinaries")]),e._v(" to false in the "),t("code",[e._v("$HOME/.kysor/config.toml")]),e._v(". After that you should restart the KYSOR to make changes available.")]),e._v(" "),t("p",[e._v("Before an upgrade you are then required to prebuild the upgrade binaries "),t("strong",[e._v("yourself")]),e._v(" and place them in the correct path. Once you have the upgrade binary compiled move them to the following directory "),t("strong",[e._v("before")]),e._v(" the upgrade:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bXYga3l2ZS11cGdyYWRlLWJpbmFyeSAkSE9NRS8ua3lzb3IvdXBncmFkZXMvcG9vbC0kcG9vbC8kdmVyc2lvbi9iaW4K"}}),e._v(" "),t("p",[e._v("$POOL is the pool id where the binary should run on. For example for the Moonbeam pool with pool id "),t("code",[e._v("0")]),e._v(" and upgrade version "),t("code",[e._v("1.9.0")]),e._v(" you should move the upgrade binary to the following folder:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bXYga3l2ZS1tb29uYmVhbS1iaW5hcnkgJEhPTUUvLmt5c29yL3VwZ3JhZGVzL3Bvb2wtMC8xLjkuMC9iaW4vCg=="}}),e._v(" "),t("p",[e._v("The upgrade binaries of each version in beta will be available here: "),t("a",{attrs:{href:"https://github.com/KYVENetwork/node/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/KYVENetwork/node/releases"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("strong",[e._v("General KYSOR directory structure")])]),e._v(" "),t("p",[e._v("Knowing where KYSOR saves it's logs and binaries can be helpful. The example below shows the following setup: The KYSOR runs on two pools with pool id "),t("code",[e._v("0")]),e._v(" and "),t("code",[e._v("2")]),e._v(". Pool "),t("code",[e._v("2")]),e._v(" is still running on version "),t("code",[e._v("0.8.6")]),e._v(" while pool "),t("code",[e._v("0")]),e._v(" has already upgraded from "),t("code",[e._v("1.8.6")]),e._v(" to "),t("code",[e._v("1.8.7")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Lmt5c29yCuKUnOKUgOKUgCBjb25maWcudG9tbArilJzilIDilIAgbG9ncwrilILCoMKgIOKUlOKUgOKUgCAyMDIyLTA5LTI5VDA4OjM4OjI0LjUxM1oubG9nCuKUgsKgwqAg4pSU4pSA4pSAIDIwMjItMDktMjlUMDk6Mjk6MjIuMjE5Wi5sb2cK4pSc4pSA4pSAIHVwZ3JhZGVzCuKUgsKgwqAg4pSc4pSA4pSAIHBvb2wtMArilILCoMKgIHwgICDilJzilIDilIAgMS44LjYK4pSCwqDCoCB8ICAgfCAgIOKUnOKUgOKUgCBiaW4K4pSCwqDCoCB8ICAgfCAgIOKUgsKgwqAg4pSU4pSA4pSAIGt5dmUtbGludXgteDY0CuKUgsKgwqAgfCAgIHwgICDilJzilIDilIAgY2FjaGUKfCAgIHwgICB8ICAg4pSCwqDCoCDilJzilIDilIAgMjM0Lmpzb24KfCAgIHwgICB8ICAg4pSCwqDCoCDilJTilIDilIAgLi4uCuKUgsKgwqAgfCAgIHwgICDilJTilIDilIAgbG9ncwrilILCoMKgIHwgICB8ICAgICAgIOKUnOKUgOKUgCAyMDIyLTA5LTI5VDA4OjIzOjAyLjAwM1oubG9nCuKUgsKgwqAgfCAgIHwgICAgICAg4pSU4pSA4pSAIDIwMjItMDktMjlUMDg6MjM6MjQuOTUzWi5sb2cK4pSCwqDCoCB8ICAg4pSU4pSA4pSAIDEuOC43CuKUgsKgwqAgfCAgICAgICDilJzilIDilIAgYmluCuKUgsKgwqAgfCAgICAgICDilILCoMKgIOKUlOKUgOKUgCBreXZlLWxpbnV4LXg2NArilILCoMKgIHwgICAgICAg4pSc4pSA4pSAIGNhY2hlCnwgICB8ICAgICAgIOKUgsKgwqAg4pSc4pSA4pSAIDU2Ny5qc29uCnwgICB8ICAgICAgIOKUgsKgwqAg4pSU4pSA4pSAIC4uLgrilILCoMKgIHwgICAgICAg4pSU4pSA4pSAIGxvZ3MK4pSCwqDCoCB8ICAgICAgICAgICDilJTilIDilIAgMjAyMi0wOS0yOVQwODoyMzoyNC45NTNaLmxvZwrilILCoMKgIOKUlOKUgOKUgCBwb29sLTIK4pSCwqDCoCAgICAg4pSU4pSA4pSAIDAuOC42CuKUgsKgwqAgICAgICAgICDilJzilIDilIAgYmluCuKUgsKgwqAgICAgICAgICDilILCoMKgIOKUlOKUgOKUgCBreXZlLWxpbnV4LXg2NArilILCoMKgICAgICAgICAg4pSc4pSA4pSAIGNhY2hlCnwgICAgICAgICAgIOKUgsKgwqAg4pSc4pSA4pSAIDM4NDcuanNvbgp8ICAgICAgICAgICDilILCoMKgIOKUlOKUgOKUgCAuLi4K4pSCwqDCoCAgICAgICAgIOKUlOKUgOKUgCBsb2dzCuKUgsKgwqAgICAgICAgICAgICAg4pSU4pSA4pSAIDIwMjItMDktMjlUMDg6MjM6MDIuMDAzWi5sb2cK4pSU4pSA4pSAIHZhbGFjY291bnRzCiAgICDilJzilIDilIAgbW9vbmJlYW0udG9tbAogICAg4pSU4pSA4pSAIGNlbG8udG9tbAo="}}),e._v(" "),t("p",[e._v("Here the following directories have the following reason:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v(".kysor")]),e._v(" - KYSOR home directory, created with init command")]),e._v(" "),t("li",[t("code",[e._v("config.toml")]),e._v(" - general KYSOR config, created with init command")]),e._v(" "),t("li",[t("code",[e._v("logs")]),e._v(" - logs folder containing KYSOR log files. Each log file is a run from start to end where the date is the starting date")]),e._v(" "),t("li",[t("code",[e._v("upgrades")]),e._v(" - most important directory, contains all the binaries for every pool")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id")]),e._v(" - holds every binary of every installed version of the specified pool")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id/$version")]),e._v(" - acts as a home directory for a specific binary, contains binary cache, logs and actual protocol node binary")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id/$version/bin")]),e._v(" - holds actual node binary")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id/$version/cache")]),e._v(" - contains cached data relevant for the protocol node")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id/$version/logs")]),e._v(" - logs folder for the protocol node of that version and pool. Each log file is a run from start to end where the date is the starting date")]),e._v(" "),t("li",[t("code",[e._v("valaccounts")]),e._v(" - contains all the valaccount config files with which the KYSOR can run on a pool")])]),e._v(" "),t("p",[t("strong",[e._v("Run KYSOR with systemd")])]),e._v(" "),t("p",[e._v("For the daemon service root-privileges are required during the setup. Create a service file. $USER is the Linux user which runs the process. Replace it before you copy the command.")]),e._v(" "),t("p",[e._v("Since the KYSOR can run on multiple pools on one machine we would recommend naming the daemon service after the valaccount name and with a "),t("code",[e._v("d")]),e._v(" appending to it. With that you can create multiple service files and control each of them. This example shows the service file for our valaccount "),t("code",[e._v("moonbeam")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"dGVlICZsdDsmbHQ7RU9GICZndDsgL2Rldi9udWxsIC9ldGMvc3lzdGVtZC9zeXN0ZW0vbW9vbmJlYW1kLnNlcnZpY2UKW1VuaXRdCkRlc2NyaXB0aW9uPUtZVkUgUHJvdG9jb2wtTm9kZSBtb29uYmVhbSBkYWVtb24KQWZ0ZXI9bmV0d29yay1vbmxpbmUudGFyZ2V0CgpbU2VydmljZV0KVXNlcj0kVVNFUgpFeGVjU3RhcnQ9L2hvbWUvJFVTRVIva3lzb3Igc3RhcnQgLS12YWxhY2NvdW50IG1vb25iZWFtClJlc3RhcnQ9b24tZmFpbHVyZQpSZXN0YXJ0U2VjPTMKTGltaXROT0ZJTEU9aW5maW5pdHkKRU9GCg=="}}),e._v(" "),t("p",[e._v("Start the daemon")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyBzeXN0ZW1jdGwgZW5hYmxlIG1vb25iZWFtZApzdWRvIHN5c3RlbWN0bCBzdGFydCBtb29uYmVhbWQK"}}),e._v(" "),t("p",[e._v("It can be stopped using")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"c3VkbyBzeXN0ZW1jdGwgc3RvcCBtb29uYmVhbWQK"}}),e._v(" "),t("p",[e._v("You can see its logs with")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"c3VkbyBqb3VybmFsY3RsIC11IG1vb25iZWFtZCAtZgo="}}),e._v(" "),t("h4",{attrs:{id:"option-2-run-prebuild-binaries-not-recommended"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#option-2-run-prebuild-binaries-not-recommended"}},[e._v("#")]),e._v(" Option 2: Run prebuild binaries (not recommended)")]),e._v(" "),t("p",[e._v("You can download the current protocol node binaries here: "),t("a",{attrs:{href:"https://github.com/KYVENetwork/node/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/KYVENetwork/node/releases"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("For example, if we want to run on the Moonbeam pool with Pool Id "),t("em",[e._v("0")]),e._v(" we can do the following:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"d2dldCB0b2RvCnVuemlwIGt5dmUtbGludXgteDY0LnppcApjaG1vZCAreCBreXZlLWxpbnV4LXg2NAo="}}),e._v(" "),t("p",[e._v("To run the protocol node the following command needs to be executed:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXZlLWxpbnV4LXg2NCBzdGFydAotLXBvb2wgMCBcCi0tdmFsYWNjb3VudCAmcXVvdDt5b3VyIG1uZW1vbmljIC4uLiZxdW90OwotLXN0b3JhZ2UtcHJpdiAmcXVvdDskKGNhdCBwYXRoL3RvL2Fyd2VhdmUuanNvbikmcXVvdDsgXAotLXZlcmJvc2UgXAotLW1ldHJpY3MgXAo="}}),e._v(" "),t("p",[e._v("The valaccount has to be created prior to this step. The easiest way is to just create it with Keplr or Cosmostation wallet and then export it.")]),e._v(" "),t("p",[e._v("The logs and the cache files are generated in the current directory. You can specify the home directory with the optional flag "),t("em",[e._v("--home")]),e._v(".")]),e._v(" "),t("p",[e._v("The prometheus metrics server runs default on port 8080, you can overwrite that with the optional flag "),t("em",[e._v("--metrics-port")])]),e._v(" "),t("h4",{attrs:{id:"option-3-compile-binaries-yourself-and-run-manually-not-recommended"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#option-3-compile-binaries-yourself-and-run-manually-not-recommended"}},[e._v("#")]),e._v(" Option 3: Compile binaries yourself and run manually (not recommended)")]),e._v(" "),t("p",[e._v("For compiling the node protocol binaries yourself you can clone the KYVE monorepo here "),t("a",{attrs:{href:"https://github.com/KYVENetwork/node",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/KYVENetwork/node"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("To build the evm binaries execute the following commands:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2l0IGNsb25lIGdpdEBnaXRodWIuY29tOktZVkVOZXR3b3JrL25vZGUuZ2l0CmNkIG5vZGUKCnlhcm4gaW5zdGFsbAp5YXJuIHNldHVwCgpjZCBpbnRlZ3JhdGlvbnMvZXZtCnlhcm4gYnVpbGQ6YmluYXJpZXMK"}}),e._v(" "),t("p",[e._v("After that the binaries should be available under the following path: "),t("code",[e._v("/integrations/evm/out/*")])]),e._v(" "),t("h3",{attrs:{id:"_3-finally-join-a-pool-with-a-valaccount"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-finally-join-a-pool-with-a-valaccount"}},[e._v("#")]),e._v(" 3. Finally join a pool with a valaccount")]),e._v(" "),t("p",[e._v("After the node is running you can finally join the pool with your valaccount.")]),e._v(" "),t("p",[e._v("If the node is starting for the first time, you should something like this in the logs:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"MjAyMi0wOS0yOCAwNjozNzo0Ni41MzYgIElORk8gIFZhbGFjY291bnQga3l2ZTFwc3czZ3Q2NWhnM2p6dDNocWhheWc2cjdqNDIzMzBuZjQ5cHl2YyBoYXMgbm90IGpvaW5lZCB0aGUgcG9vbCB3aXRoIGlkIDAgeWV0CjIwMjItMDktMjggMDY6Mzc6NDYuNTM5ICBJTkZPICBWaXNpdCBodHRwczovL2FwcC5reXZlLm5ldHdvcmsvIy9wb29scy8wIGFuZCBhZGQgam9pbiB0aGUgcG9vbCB3aXRoIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb246CgoyMDIyLTA5LTI4IDA2OjM3OjQ2LjU0MCAgSU5GTyAgVmFsYWRkcmVzczogICAga3l2ZTFwc3czZ3Q2NWhnM2p6dDNocWhheWc2cjdqNDIzMzBuZjQ5cHl2YwoyMDIyLTA5LTI4IDA2OjM3OjQ2LjU0MSAgSU5GTyAgVmFsbmFtZTogICAgICAgeGVuYWNpb3VzLWFtZXRoeXN0LXBlbmd1aW4KCjIwMjItMDktMjggMDY6Mzc6NDYuNTQxICBJTkZPICBUaGUgbm9kZSB3aWxsIG5vdCBjb250aW51ZSB1bnRpbCB0aGUgYWNjb3VudCBpcyBhdXRob3JpemVkCg=="}}),e._v(" "),t("p",[e._v("With this information ("),t("code",[e._v("Valaddress")]),e._v(" and "),t("code",[e._v("Valname")]),e._v(") you can head over the the KYVE app and join the pool.")]),e._v(" "),t("p",[e._v("Now that the node is already running it just needs the authorization from it's main validator account in order to run for this validator and generate rewards. For that visit your validator page and click on "),t("code",[e._v("Join existing pool")]),e._v(".")]),e._v(" "),t("p",[e._v("A dialog should open where you should select the pool you want to join (here Moonbeam). After that enter the Valaddress that needs to be authorized and the Valname, which just serves as a security that the node has actually been started. (If you join a pool without having the node running you are in danger of receiving a timeout slash because once you join a pool you are expected to validate and upload data).")]),e._v(" "),t("p",[e._v("For the last option you can do a one time transfer so that the valaccount has some $KYVE to pay for transaction fees. We would recommend sending 1000 $KYVE for the start. Make sure that the valaccount always has enough $KYVE to pay for the fees, otherwise you are again in danger of receiving a timeout slash.")]),e._v(" "),t("p",[e._v("Once you have joined the pool the node should continue in about ~10 seconds. After that you are successfully participating in a pool.")]),e._v(" "),t("h3",{attrs:{id:"_4-join-multiple-pools-if-you-want-to-increase-your-rewards"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-join-multiple-pools-if-you-want-to-increase-your-rewards"}},[e._v("#")]),e._v(" 4. Join multiple pools if you want to increase your rewards")]),e._v(" "),t("p",[e._v("This step is optional, but the more pools you participate in the higher the rewards. If you want to join another pool just repeat the steps from point 4. You can see all the pools you are participating in in your validator page.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("WARNING")]),e._v(": But beware, joining for example a second pool might double your rewards, but it would also double the danger of getting slashed.")])])],1)}),[],!1,null,null,null);o.default=n.exports}}]);