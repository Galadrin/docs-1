(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{684:function(e,o,t){"use strict";t.r(o);var a=t(0),n=Object(a.a)({},(function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"running-a-protocol-node"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#running-a-protocol-node"}},[e._v("#")]),e._v(" Running a protocol node")]),e._v(" "),t("p",[e._v("The protocol nodes are the backbone of a KYVE pool. They are responsible\nfor collecting data from a data source, bundling and uploading them to Arweave and verifying it. This enables KYVE\nto store any data stream decentralized and permanently.")]),e._v(" "),t("h3",{attrs:{id:"requirements"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[e._v("#")]),e._v(" Requirements")]),e._v(" "),t("p",[e._v("Wallets")]),e._v(" "),t("ul",[t("li",[e._v("A "),t("a",{attrs:{href:"https://keplr.app",target:"_blank",rel:"noopener noreferrer"}},[e._v("Keplr"),t("OutboundLink")],1),e._v(" or "),t("a",{attrs:{href:"https://www.cosmostation.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosmostation"),t("OutboundLink")],1),e._v(" wallet with $KYVE. (You can claim some "),t("a",{attrs:{href:"https://app.kyve.network/#/faucet",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(")")]),e._v(" "),t("li",[e._v("An "),t("a",{attrs:{href:"https://arweave.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Arweave"),t("OutboundLink")],1),e._v(" keyfile with some AR. (You can claim some "),t("a",{attrs:{href:"https://faucet.arweave.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(")")])]),e._v(" "),t("p",[e._v("Minimum hardware requirements")]),e._v(" "),t("ul",[t("li",[e._v("1vCPU")]),e._v(" "),t("li",[e._v("4GB RAM")]),e._v(" "),t("li",[e._v("1GB DISK")])]),e._v(" "),t("h3",{attrs:{id:"get-some-kyve"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#get-some-kyve"}},[e._v("#")]),e._v(" Get some $KYVE")]),e._v(" "),t("p",[e._v("Before continuing, make sure that you have the "),t("a",{attrs:{href:"https://keplr.app",target:"_blank",rel:"noopener noreferrer"}},[e._v("Keplr"),t("OutboundLink")],1),e._v(" or "),t("a",{attrs:{href:"https://www.cosmostation.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosmostation"),t("OutboundLink")],1),e._v(" wallet installed in your browser. Head over to the "),t("a",{attrs:{href:"https://app.kyve.network",target:"_blank",rel:"noopener noreferrer"}},[e._v("KYVE app"),t("OutboundLink")],1),e._v(" and make sure to connect your wallet (this automatically adds and switches to the KYVE network).")]),e._v(" "),t("p",[e._v("Go to the faucet tab and claim some tokens via one of three faucets. The wheel is the easiest option.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("IMPORTANT")]),e._v(": Make sure that you are on the correct app URL "),t("code",[e._v("https://app.kyve.network")])])]),e._v(" "),t("h3",{attrs:{id:"choose-a-pool"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#choose-a-pool"}},[e._v("#")]),e._v(" Choose a pool")]),e._v(" "),t("p",[e._v("Before you can run a protocol node you have to choose a pool you want to join. You can find an overview of all pools\nin the KYVE app "),t("a",{attrs:{href:"https://app.kyve.network/#/pools",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[t("img",{attrs:{src:"/pools.png",alt:"pools"}})]),e._v(" "),t("p",[e._v("Here you can already see some options. Since in this example the "),t("code",[e._v("Bitcoin")]),e._v(" pool is paused due to the lack of funds\nit would be smarter to join the other active pools. Other metrics can be also added to your decision in which pool\nyou want to participate. Example metrics could be for example the amount of slashes which occured in the pool (can be found when you click on "),t("code",[e._v("pool")]),e._v(" then "),t("code",[e._v("metrics")]),e._v(").")]),e._v(" "),t("p",[e._v("Once you have chosen a pool you have to remember the pool id and the\npool runtime for later which can be both found when you click on the pool overview. In this example we have chosen the first pool with the pool id "),t("code",[e._v("0")]),e._v(" and the runtime "),t("code",[e._v("@kyve/evm")]),e._v(".")]),e._v(" "),t("p",[t("img",{attrs:{src:"/pool_overview.png",alt:"pool overview"}})]),e._v(" "),t("h3",{attrs:{id:"verify-that-you-can-claim-a-validator-slot"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#verify-that-you-can-claim-a-validator-slot"}},[e._v("#")]),e._v(" Verify that you can claim a validator slot")]),e._v(" "),t("p",[e._v("Due to a limited number of validator slots in each pool only the nodes with the highest delegation can claim\na validator slot. You can only claim a validator slot if you have "),t("strong",[e._v("more than the minimum delegation amount")]),e._v(".")]),e._v(" "),t("p",[e._v("To check the minimum delegation amount you can click on the tab "),t("code",[e._v("Validators")]),e._v(" once you have selected a pool. There you should see something like this:")]),e._v(" "),t("p",[t("img",{attrs:{src:"/min_delegation.png",alt:"min delegation"}})]),e._v(" "),t("p",[e._v("In this case all there are still 9 free validator slots so you just have to have more than 0 $KYVE of delegation\nin your validator in order to participate. If the slots would be full and the minimum delegation would be for example\n300 $KYVE, you have to have "),t("strong",[e._v("more")]),e._v(" than 300 $KYVE delegated in your validator.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("INFORMATION")]),e._v(": It does not matter if you archieve the required delegation amount by self delegation or\nexternal delegation, the total delegation into your validator account matters.")])]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("IMPORTANT")]),e._v(": If you don't have more $KYVE than the minimum delegation amount you can not continue!")])]),e._v(" "),t("h3",{attrs:{id:"create-a-validator-account"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-a-validator-account"}},[e._v("#")]),e._v(" Create a Validator account")]),e._v(" "),t("p",[e._v("With a pool you can join you can now create your validator account which will hold all of your\nself delegation. The first step you be to connect with you wallet to the KYVE app.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("IMPORTANT")]),e._v(": We would highly recommend creating the valaccount from a cold wallet like a Ledger since\nthis wallet will hold all of your delegation and rewards. If you loose that wallet you loose all of your stake.\nYou just need to connect this wallet to the app in order to create the account or claim your rewards later.")])]),e._v(" "),t("p",[e._v("Once you have a wallet connected to the app you have to enable the "),t("code",[e._v("Expert mode")]),e._v(". This mode allows you to create a validator account with the currently connected\nwallet. You can find the expert mode button in the drawer on the left right at the bottom.")]),e._v(" "),t("p",[t("img",{attrs:{src:"/expert_mode.png",alt:"expert mode"}})]),e._v(" "),t("p",[e._v("With expert mode enabled you can now head over to the "),t("code",[e._v("Validators")]),e._v(" page and click on the top right to\ncreate a Validator.")]),e._v(" "),t("p",[t("img",{attrs:{src:"/create_validator.png",alt:"create validator"}})]),e._v(" "),t("p",[e._v("If the validator was successfully created you should have been routed to your dedicated validator page were\nyou can see all the information about your validator including other delegations and performance metrics.")]),e._v(" "),t("h3",{attrs:{id:"_2-run-protocol-nodes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-run-protocol-nodes"}},[e._v("#")]),e._v(" 2. Run protocol nodes")]),e._v(" "),t("p",[e._v("Running a protocol node can be done in 3 ways, we recommend running the node with Option 1.")]),e._v(" "),t("h4",{attrs:{id:"option-1-run-with-kysor-recommended"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#option-1-run-with-kysor-recommended"}},[e._v("#")]),e._v(" Option 1: Run with KYSOR (recommended)")]),e._v(" "),t("p",[t("strong",[e._v("Running nodes with KYSOR has the following benefits:")])]),e._v(" "),t("ul",[t("li",[e._v("Only use "),t("strong",[e._v("one")]),e._v(" program to run on "),t("strong",[e._v("every")]),e._v(" pool")]),e._v(" "),t("li",[e._v("Not installing and compiling protocol binaries "),t("strong",[e._v("manually")]),e._v(" for every pool")]),e._v(" "),t("li",[e._v("Getting the new upgrade binaries during a pool upgrade "),t("strong",[e._v("automatically")]),e._v(" and therefore "),t("strong",[e._v("don't risk timeout slashes")])]),e._v(" "),t("li",[e._v("Make running protocol nodes "),t("strong",[e._v("standardized")]),e._v(" and "),t("strong",[e._v("easier")])])]),e._v(" "),t("p",[t("strong",[e._v("Installation")])]),e._v(" "),t("p",[e._v("Get the latest release of the KYSOR binaries")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"d2dldCBodHRwczovL2dpdGh1Yi5jb20vS1lWRU5ldHdvcmsvbm9kZS9yZWxlYXNlcy9kb3dubG9hZC8lNDBreXZlJTJGa3lzb3IlNDAwLjEuMy9reXZlLWxpbnV4LXg2NC56aXAKdW56aXAga3lzb3ItbGludXgteDY0LnppcAptdiBreXNvci1saW51eC14NjQga3lzb3IKY2htb2QgK3gga3lzb3IK"}}),e._v(" "),t("p",[e._v("Available KYSOR binaries for platforms:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"bGludXgtYXJtNjQgLSZndDsgaHR0cHM6Ly9naXRodWIuY29tL0tZVkVOZXR3b3JrL25vZGUvcmVsZWFzZXMvZG93bmxvYWQvJTQwa3l2ZSUyRmt5c29yJTQwMC4xLjMva3l2ZS1saW51eC1hcm02NC56aXAKbGludXgteDY0ICAgLSZndDsgaHR0cHM6Ly9naXRodWIuY29tL0tZVkVOZXR3b3JrL25vZGUvcmVsZWFzZXMvZG93bmxvYWQvJTQwa3l2ZSUyRmt5c29yJTQwMC4xLjMva3l2ZS1saW51eC14NjQuemlwCm1hY29zLXg2NCAgIC0mZ3Q7IGh0dHBzOi8vZ2l0aHViLmNvbS9LWVZFTmV0d29yay9ub2RlL3JlbGVhc2VzL2Rvd25sb2FkLyU0MGt5dmUlMkZreXNvciU0MDAuMS4zL2t5dmUtbWFjb3MteDY0LnppcAo="}}),e._v(" "),t("p",[t("strong",[e._v("Initialize KYSOR")])]),e._v(" "),t("p",[e._v("Once you have successfully downloaded the KYSOR binary you have to initialize it.")]),e._v(" "),t("p",[e._v("When you init the KYSOR you need to specify the network you should run on and if the KYSOR should automatically download and execute the binaries for you. Since we are in korellia testnet\nwe would recommend initializing with the following properties:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXNvciBpbml0IC0tbmV0d29yayBrb3JlbGxpYSAtLWF1dG8tZG93bmxvYWQtYmluYXJpZXMK"}}),e._v(" "),t("p",[e._v("This command creates a "),t("code",[e._v("config.toml")]),e._v(" under the following directory: "),t("code",[e._v("$HOME/.kysor/")]),e._v(". You can edit this file if you wish to change the network or the auto download.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("IMPORTANT")]),e._v(": Since we are in testnet it is okay to leave auto download on, but once KYVE is in mainnet we would highly recommend turning auto download off and compiling the upgrade binaries yourself. You can find more information below for how to upgrade with KYSOR manually.")])]),e._v(" "),t("p",[t("strong",[e._v("Create your first valaccount")])]),e._v(" "),t("p",[e._v("Now that KYSOR is initalized we move on to the next step. For every pool you run on a "),t("em",[e._v("valaccount")]),e._v(" has to be created. In our example, we want to run on the Moonbeam pool with Pool Id "),t("code",[e._v("0")]),e._v(". A new valaccount with a new mnemonic can be created in the following way:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXNvciB2YWxhY2NvdW50cyBjcmVhdGUgXAotLW5hbWUgbW9vbmJlYW0gXAotLXBvb2wgMCBcCi0tc3RvcmFnZS1wcml2ICZxdW90OyQoY2F0IHBhdGgvdG8vYXJ3ZWF2ZS5qc29uKSZxdW90OyBcCi0tdmVyYm9zZSBcCi0tbWV0cmljcwo="}}),e._v(" "),t("p",[e._v("This will create a "),t("code",[e._v("moonbeam.toml")]),e._v(" file under the kysor home directory in "),t("code",[e._v("$HOME/.kysor/valaccounts/")]),e._v(". There you can view your valaccount config.")]),e._v(" "),t("p",[e._v("If you want to create a valaccount from an existing mnemonic just add the "),t("code",[e._v("--recover")]),e._v(" flag like this:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXNvciB2YWxhY2NvdW50cyBjcmVhdGUgXAotLW5hbWUgbW9vbmJlYW0gXAotLXBvb2wgMCBcCi0tc3RvcmFnZS1wcml2ICZxdW90OyQoY2F0IHBhdGgvdG8vYXJ3ZWF2ZS5qc29uKSZxdW90OyBcCi0tdmVyYm9zZSBcCi0tbWV0cmljcyBcCi0tcmVjb3Zlcgo="}}),e._v(" "),t("p",[e._v("This will prompt you to enter the mnemonic you want to import. More help on how to manage valaccounts can be found with "),t("code",[e._v("./kysor valaccounts --help")])]),e._v(" "),t("p",[e._v("If you want to port your valaccounts over from the old system (evm version <= 1.8.5 and celo version <= 0.8.5) you have to perform the following command to retrieve the mnemonic of your existing valaccounts:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9vbGQta3l2ZS1iaW5hcnkgdmFsYWNjb3VudHMgcmV2ZWFsICZsdDtuYW1lJmd0Owo="}}),e._v(" "),t("p",[e._v("Then you can import this mnemonic with the "),t("code",[e._v("--recover")]),e._v(" flag into the new system with KYSOR.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("INFORMATION")]),e._v(": Of course multiple valaccounts can be created for each pool. We would recommend naming the valaccounts after the pool you want to run with this account on like in this case "),t("code",[e._v("moonbeam")]),e._v(" for example. These names are just used locally for config management. Also if you have multiple valaccounts running on the same machine you are required to change the port of the metrics server (if enabled of course) so the don't overlap.")])]),e._v(" "),t("p",[t("strong",[e._v("Run the KYSOR")])]),e._v(" "),t("p",[e._v("After you have created the required valaccounts you can simply start running the KYSOR with the following command:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXNvciBzdGFydCAtLXZhbGFjY291bnQgbW9vbmJlYW0K"}}),e._v(" "),t("p",[e._v("When KYSOR is running, you can proceed with step 3.")]),e._v(" "),t("p",[t("strong",[e._v("Run KYSOR on multiple pools")])]),e._v(" "),t("p",[e._v("If you want to run KYSOR with multiple pools you only have to edit one configuration in the valaccounts. The Protocol Nodes starts a metrics prometheus server if the option "),t("code",[e._v("metrics")]),e._v(" is enabled. On default the metrics server is available under the following endpoint: "),t("code",[e._v("http://localhost:8080/metrics")]),e._v(". If you start on multiple pools those servers would collide because of the same port. You can solve this by editing the valaccounts config toml and specifying a different port for each valaccount.")]),e._v(" "),t("p",[t("strong",[e._v("Run the KYSOR without auto download")])]),e._v(" "),t("p",[e._v("If you want to run the KYSOR without auto download enabled like it would be recommended in mainnet just set the property "),t("code",[e._v("autoDownloadBinaries")]),e._v(" to false in the "),t("code",[e._v("$HOME/.kysor/config.toml")]),e._v(". After that you should restart the KYSOR to make changes available.")]),e._v(" "),t("p",[e._v("Before an upgrade you are then required to prebuild the upgrade binaries "),t("strong",[e._v("yourself")]),e._v(" and place them in the correct path. Once you have the upgrade binary compiled move them to the following directory "),t("strong",[e._v("before")]),e._v(" the upgrade:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bXYga3l2ZS11cGdyYWRlLWJpbmFyeSAkSE9NRS8ua3lzb3IvdXBncmFkZXMvcG9vbC0kcG9vbC8kdmVyc2lvbi9iaW4K"}}),e._v(" "),t("p",[e._v("$POOL is the pool id where the binary should run on. For example for the Moonbeam pool with pool id "),t("code",[e._v("0")]),e._v(" and upgrade version "),t("code",[e._v("1.9.0")]),e._v(" you should move the upgrade binary to the following folder:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bXYga3l2ZS1tb29uYmVhbS1iaW5hcnkgJEhPTUUvLmt5c29yL3VwZ3JhZGVzL3Bvb2wtMC8xLjkuMC9iaW4vCg=="}}),e._v(" "),t("p",[e._v("The upgrade binaries of each version in korellia will be available here: "),t("a",{attrs:{href:"https://github.com/KYVENetwork/node/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/KYVENetwork/node/releases"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("strong",[e._v("General KYSOR directory structure")])]),e._v(" "),t("p",[e._v("Knowing where KYSOR saves it's logs and binaries can be helpful. The example below shows the following setup: The KYSOR runs on two pools with pool id "),t("code",[e._v("0")]),e._v(" and "),t("code",[e._v("2")]),e._v(". Pool "),t("code",[e._v("2")]),e._v(" is still running on version "),t("code",[e._v("0.8.6")]),e._v(" while pool "),t("code",[e._v("0")]),e._v(" has already upgraded from "),t("code",[e._v("1.8.6")]),e._v(" to "),t("code",[e._v("1.8.7")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"Lmt5c29yCuKUnOKUgOKUgCBjb25maWcudG9tbArilJzilIDilIAgbG9ncwrilILCoMKgIOKUlOKUgOKUgCAyMDIyLTA5LTI5VDA4OjM4OjI0LjUxM1oubG9nCuKUgsKgwqAg4pSU4pSA4pSAIDIwMjItMDktMjlUMDk6Mjk6MjIuMjE5Wi5sb2cK4pSc4pSA4pSAIHVwZ3JhZGVzCuKUgsKgwqAg4pSc4pSA4pSAIHBvb2wtMArilILCoMKgIHwgICDilJzilIDilIAgMS44LjYK4pSCwqDCoCB8ICAgfCAgIOKUnOKUgOKUgCBiaW4K4pSCwqDCoCB8ICAgfCAgIOKUgsKgwqAg4pSU4pSA4pSAIGt5dmUtbGludXgteDY0CuKUgsKgwqAgfCAgIHwgICDilJzilIDilIAgY2FjaGUKfCAgIHwgICB8ICAg4pSCwqDCoCDilJzilIDilIAgMjM0Lmpzb24KfCAgIHwgICB8ICAg4pSCwqDCoCDilJTilIDilIAgLi4uCuKUgsKgwqAgfCAgIHwgICDilJTilIDilIAgbG9ncwrilILCoMKgIHwgICB8ICAgICAgIOKUnOKUgOKUgCAyMDIyLTA5LTI5VDA4OjIzOjAyLjAwM1oubG9nCuKUgsKgwqAgfCAgIHwgICAgICAg4pSU4pSA4pSAIDIwMjItMDktMjlUMDg6MjM6MjQuOTUzWi5sb2cK4pSCwqDCoCB8ICAg4pSU4pSA4pSAIDEuOC43CuKUgsKgwqAgfCAgICAgICDilJzilIDilIAgYmluCuKUgsKgwqAgfCAgICAgICDilILCoMKgIOKUlOKUgOKUgCBreXZlLWxpbnV4LXg2NArilILCoMKgIHwgICAgICAg4pSc4pSA4pSAIGNhY2hlCnwgICB8ICAgICAgIOKUgsKgwqAg4pSc4pSA4pSAIDU2Ny5qc29uCnwgICB8ICAgICAgIOKUgsKgwqAg4pSU4pSA4pSAIC4uLgrilILCoMKgIHwgICAgICAg4pSU4pSA4pSAIGxvZ3MK4pSCwqDCoCB8ICAgICAgICAgICDilJTilIDilIAgMjAyMi0wOS0yOVQwODoyMzoyNC45NTNaLmxvZwrilILCoMKgIOKUlOKUgOKUgCBwb29sLTIK4pSCwqDCoCAgICAg4pSU4pSA4pSAIDAuOC42CuKUgsKgwqAgICAgICAgICDilJzilIDilIAgYmluCuKUgsKgwqAgICAgICAgICDilILCoMKgIOKUlOKUgOKUgCBreXZlLWxpbnV4LXg2NArilILCoMKgICAgICAgICAg4pSc4pSA4pSAIGNhY2hlCnwgICAgICAgICAgIOKUgsKgwqAg4pSc4pSA4pSAIDM4NDcuanNvbgp8ICAgICAgICAgICDilILCoMKgIOKUlOKUgOKUgCAuLi4K4pSCwqDCoCAgICAgICAgIOKUlOKUgOKUgCBsb2dzCuKUgsKgwqAgICAgICAgICAgICAg4pSU4pSA4pSAIDIwMjItMDktMjlUMDg6MjM6MDIuMDAzWi5sb2cK4pSU4pSA4pSAIHZhbGFjY291bnRzCiAgICDilJzilIDilIAgbW9vbmJlYW0udG9tbAogICAg4pSU4pSA4pSAIGNlbG8udG9tbAo="}}),e._v(" "),t("p",[e._v("Here the following directories have the following reason:")]),e._v(" "),t("ul",[t("li",[t("code",[e._v(".kysor")]),e._v(" - KYSOR home directory, created with init command")]),e._v(" "),t("li",[t("code",[e._v("config.toml")]),e._v(" - general KYSOR config, created with init command")]),e._v(" "),t("li",[t("code",[e._v("logs")]),e._v(" - logs folder containing KYSOR log files. Each log file is a run from start to end where the date is the starting date")]),e._v(" "),t("li",[t("code",[e._v("upgrades")]),e._v(" - most important directory, contains all the binaries for every pool")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id")]),e._v(" - holds every binary of every installed version of the specified pool")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id/$version")]),e._v(" - acts as a home directory for a specific binary, contains binary cache, logs and actual protocol node binary")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id/$version/bin")]),e._v(" - holds actual node binary")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id/$version/cache")]),e._v(" - contains cached data relevant for the protocol node")]),e._v(" "),t("li",[t("code",[e._v("upgrades/pool-$id/$version/logs")]),e._v(" - logs folder for the protocol node of that version and pool. Each log file is a run from start to end where the date is the starting date")]),e._v(" "),t("li",[t("code",[e._v("valaccounts")]),e._v(" - contains all the valaccount config files with which the KYSOR can run on a pool")])]),e._v(" "),t("p",[t("strong",[e._v("Run KYSOR with systemd")])]),e._v(" "),t("p",[e._v("For the daemon service root-privileges are required during the setup. Create a service file. $USER is the Linux user which runs the process. Replace it before you copy the command.")]),e._v(" "),t("p",[e._v("Since the KYSOR can run on multiple pools on one machine we would recommend naming the daemon service after the valaccount name and with a "),t("code",[e._v("d")]),e._v(" appending to it. With that you can create multiple service files and control each of them. This example shows the service file for our valaccount "),t("code",[e._v("moonbeam")])]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"dGVlICZsdDsmbHQ7RU9GICZndDsgL2Rldi9udWxsIC9ldGMvc3lzdGVtZC9zeXN0ZW0vbW9vbmJlYW1kLnNlcnZpY2UKW1VuaXRdCkRlc2NyaXB0aW9uPUtZVkUgUHJvdG9jb2wtTm9kZSBtb29uYmVhbSBkYWVtb24KQWZ0ZXI9bmV0d29yay1vbmxpbmUudGFyZ2V0CgpbU2VydmljZV0KVXNlcj0kVVNFUgpFeGVjU3RhcnQ9L2hvbWUvJFVTRVIva3lzb3Igc3RhcnQgLS12YWxhY2NvdW50IG1vb25iZWFtClJlc3RhcnQ9b24tZmFpbHVyZQpSZXN0YXJ0U2VjPTMKTGltaXROT0ZJTEU9aW5maW5pdHkKRU9GCg=="}}),e._v(" "),t("p",[e._v("Start the daemon")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyBzeXN0ZW1jdGwgZW5hYmxlIG1vb25iZWFtZApzdWRvIHN5c3RlbWN0bCBzdGFydCBtb29uYmVhbWQK"}}),e._v(" "),t("p",[e._v("It can be stopped using")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"c3VkbyBzeXN0ZW1jdGwgc3RvcCBtb29uYmVhbWQK"}}),e._v(" "),t("p",[e._v("You can see its logs with")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"c3VkbyBqb3VybmFsY3RsIC11IG1vb25iZWFtZCAtZgo="}}),e._v(" "),t("h4",{attrs:{id:"option-2-run-prebuild-binaries"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#option-2-run-prebuild-binaries"}},[e._v("#")]),e._v(" Option 2: Run prebuild binaries")]),e._v(" "),t("p",[e._v("You can download the current protocol node binaries here: "),t("a",{attrs:{href:"https://github.com/KYVENetwork/node/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/KYVENetwork/node/releases"),t("OutboundLink")],1)]),e._v(" "),t("p",[e._v("For example, if we want to run on the Moonbeam pool with Pool Id "),t("em",[e._v("0")]),e._v(" we can do the following:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"d2dldCB0b2RvCnVuemlwIGt5dmUtbGludXgteDY0LnppcApjaG1vZCAreCBreXZlLWxpbnV4LXg2NAo="}}),e._v(" "),t("p",[e._v("To run the protocol node the following command needs to be executed:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Li9reXZlLWxpbnV4LXg2NCBzdGFydAotLXBvb2wgMCBcCi0tdmFsYWNjb3VudCAmcXVvdDt5b3VyIG1uZW1vbmljIC4uLiZxdW90OwotLXN0b3JhZ2UtcHJpdiAmcXVvdDskKGNhdCBwYXRoL3RvL2Fyd2VhdmUuanNvbikmcXVvdDsgXAotLW5ldHdvcmsgJnF1b3Q7a29yZWxsaWEmcXVvdDsgXAotLW1ldHJpY3MgXAo="}}),e._v(" "),t("p",[e._v("The valaccount has to be created prior to this step. The easiest way is to just create it with Keplr or Cosmostation wallet and then export it.")]),e._v(" "),t("p",[e._v("The logs and the cache files are generated in the current directory. You can specify the home directory with the optional flag "),t("em",[e._v("--home")]),e._v(".")]),e._v(" "),t("p",[e._v("The prometheus metrics server runs default on port 8080, you can overwrite that with the optional flag "),t("em",[e._v("--metrics-port")])]),e._v(" "),t("h4",{attrs:{id:"option-3-compile-binaries-yourself-and-run-manually"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#option-3-compile-binaries-yourself-and-run-manually"}},[e._v("#")]),e._v(" Option 3: Compile binaries yourself and run manually")]),e._v(" "),t("p",[e._v("For compiling the node protocol binaries yourself you can clone the KYVE monorepo here "),t("a",{attrs:{href:"https://github.com/KYVENetwork/node",target:"_blank",rel:"noopener noreferrer"}},[e._v("github.com/KYVENetwork/node"),t("OutboundLink")],1),e._v(".")]),e._v(" "),t("p",[e._v("To build the evm binaries execute the following commands:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2l0IGNsb25lIGdpdEBnaXRodWIuY29tOktZVkVOZXR3b3JrL25vZGUuZ2l0CmNkIG5vZGUKCnlhcm4gaW5zdGFsbAp5YXJuIHNldHVwCgpjZCBpbnRlZ3JhdGlvbnMvZXZtCnlhcm4gYnVpbGQ6YmluYXJpZXMK"}}),e._v(" "),t("p",[e._v("After that the binaries should be available under the following path: "),t("code",[e._v("/integrations/evm/out/*")])]),e._v(" "),t("h3",{attrs:{id:"_3-finally-join-a-pool-with-a-valaccount"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-finally-join-a-pool-with-a-valaccount"}},[e._v("#")]),e._v(" 3. Finally join a pool with a valaccount")]),e._v(" "),t("p",[e._v("After the node is running you can finally join the pool with your valaccount.")]),e._v(" "),t("p",[e._v("If the node is starting for the first time, you should something like this in the logs:")]),e._v(" "),t("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"MjAyMi0wOS0yOCAwNjozNzo0Ni41MzYgIElORk8gIFZhbGFjY291bnQga3l2ZTFwc3czZ3Q2NWhnM2p6dDNocWhheWc2cjdqNDIzMzBuZjQ5cHl2YyBoYXMgbm90IGpvaW5lZCB0aGUgcG9vbCB3aXRoIGlkIDAgeWV0CjIwMjItMDktMjggMDY6Mzc6NDYuNTM5ICBJTkZPICBWaXNpdCBodHRwczovL2FwcC5reXZlLm5ldHdvcmsvIy9wb29scy8wIGFuZCBhZGQgam9pbiB0aGUgcG9vbCB3aXRoIHRoZSBmb2xsb3dpbmcgaW5mb3JtYXRpb246CgoyMDIyLTA5LTI4IDA2OjM3OjQ2LjU0MCAgSU5GTyAgVmFsYWRkcmVzczogICAga3l2ZTFwc3czZ3Q2NWhnM2p6dDNocWhheWc2cjdqNDIzMzBuZjQ5cHl2YwoyMDIyLTA5LTI4IDA2OjM3OjQ2LjU0MSAgSU5GTyAgVmFsbmFtZTogICAgICAgeGVuYWNpb3VzLWFtZXRoeXN0LXBlbmd1aW4KCjIwMjItMDktMjggMDY6Mzc6NDYuNTQxICBJTkZPICBUaGUgbm9kZSB3aWxsIG5vdCBjb250aW51ZSB1bnRpbCB0aGUgYWNjb3VudCBpcyBhdXRob3JpemVkCg=="}}),e._v(" "),t("p",[e._v("With this information ("),t("code",[e._v("Valaddress")]),e._v(" and "),t("code",[e._v("Valname")]),e._v(") you can head over the the KYVE app and join the pool.")]),e._v(" "),t("p",[e._v("Now that the node is already running it just needs the authorization from it's main validator account in order to run for this validator and generate rewards. For that visit your validator page and click on "),t("code",[e._v("Join existing pool")]),e._v(".")]),e._v(" "),t("p",[e._v("A dialog should open where you should select the pool you want to join (here Moonbeam). After that enter the Valaddress that needs to be authorized and the Valname, which just serves as a security that the node has actually been started. (If you join a pool without having the node running you are in danger of receiving a timeout slash because once you join a pool you are expected to validate and upload data).")]),e._v(" "),t("p",[e._v("For the last option you can do a one time transfer so that the valaccount has some $KYVE to pay for transaction fees. We would recommend sending 1000 $KYVE for the start. Make sure that the valaccount always has enough $KYVE to pay for the fees, otherwise you are again in danger of receiving a timeout slash.")]),e._v(" "),t("p",[e._v("Once you have joined the pool the node should continue in about ~10 seconds. After that you are successfully participating in a pool.")]),e._v(" "),t("h3",{attrs:{id:"_4-join-multiple-pools-if-you-want-to-increase-your-rewards"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-join-multiple-pools-if-you-want-to-increase-your-rewards"}},[e._v("#")]),e._v(" 4. Join multiple pools if you want to increase your rewards")]),e._v(" "),t("p",[e._v("This step is optional, but the more pools you participate in the higher the rewards. If you want to join another pool just repeat the steps from point 4. You can see all the pools you are participating in in your validator page.")]),e._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",[t("strong",[e._v("WARNING")]),e._v(": But beware, joining for example a second pool might double your rewards, but it would also double the danger of getting slashed.")])])],1)}),[],!1,null,null,null);o.default=n.exports}}]);